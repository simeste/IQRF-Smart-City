[
    {
        "id": "20fd471d.9b1ae8",
        "type": "tab",
        "label": "Connection (MQTT)",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d232bc5f.afdd4",
        "type": "tab",
        "label": "Node Address",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4be04b4d.314884",
        "type": "tab",
        "label": "Streetlight UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e311ef5.6cc341",
        "type": "tab",
        "label": "Trafficlight UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4adbae1e.cad6e",
        "type": "tab",
        "label": "Temp controlled room UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ec096751.dbe248",
        "type": "tab",
        "label": "Parking Lot UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2618dd02.6e7552",
        "type": "tab",
        "label": "Door UI",
        "disabled": false,
        "info": ""
    },
    {
        "id": "51ba84c6.17dc8c",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "35f22c63.678ad4",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "IQRF-GW",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "73995e00.50e304",
        "type": "mqtt-broker",
        "z": "",
        "name": "IQRF-GW",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "2aa3e3c2.3d013c",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "4ba8a825.d8cc68",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "IQRF-GW",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "78abb80b.903c78",
        "type": "mqtt-broker",
        "z": "",
        "name": "IQRF-GW",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "8b2f09e4.05e0c8",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "smartcity",
                "default": "#4B7930",
                "baseColor": "#00509e",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#00509e",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#00509e",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#000000",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0077ea",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#00509e",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "NTNU Smartcity",
            "hideToolbar": "false",
            "allowSwipe": "true",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 4,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "6637fac.35eea04",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": "6",
        "height": 1
    },
    {
        "id": "15888d52.465ca3",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": "6",
        "height": 1
    },
    {
        "id": "4234d715.867558",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "e40e97c5.dbcc78",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": "6",
        "height": 1
    },
    {
        "id": "ede5229a.2eb14",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": "6",
        "height": 1
    },
    {
        "id": "c83eb217.408a5",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "IQRF-GW",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "974ec37d.06ed5",
        "type": "mqtt-broker",
        "z": "",
        "name": "IQRF-GW",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "a61f23a1.37211",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": "6",
        "height": 1
    },
    {
        "id": "8be07575.d739d8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": "6",
        "height": 1
    },
    {
        "id": "fa35e1af.9b0d6",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "127.0.0.1",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "fe4aff1f.405b2",
        "type": "ui_tab",
        "z": "",
        "name": "Node Settings",
        "icon": "settings_input_antenna",
        "order": 6,
        "disabled": true,
        "hidden": true
    },
    {
        "id": "e0475dc8.903b9",
        "type": "ui_group",
        "z": "",
        "name": "Streetlights",
        "tab": "fe4aff1f.405b2",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "33c4ee5c.5ec272",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": "6",
        "height": 1
    },
    {
        "id": "a3e9d2e1.3027a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 1,
        "width": "6",
        "height": 1
    },
    {
        "id": "34cd862d.17c2ba",
        "type": "ui_tab",
        "z": "",
        "name": "Streetlights",
        "icon": "fa-lightbulb-o",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e3ade7c0.d58c08",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 1",
        "tab": "34cd862d.17c2ba",
        "order": 4,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "777c3b40.c0e604",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 2",
        "tab": "34cd862d.17c2ba",
        "order": 5,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "65ec126.1850dec",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 3",
        "tab": "34cd862d.17c2ba",
        "order": 6,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "d9cfc152.00378",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 4",
        "tab": "34cd862d.17c2ba",
        "order": 7,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "75dfe155.273dd",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 5",
        "tab": "34cd862d.17c2ba",
        "order": 8,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "d6ac343.e7ffdc8",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 6",
        "tab": "34cd862d.17c2ba",
        "order": 9,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "5ac92e45.9d96e",
        "type": "ui_group",
        "z": "",
        "name": "Streetlight 7",
        "tab": "34cd862d.17c2ba",
        "order": 10,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "541bd608.1c05a8",
        "type": "ui_group",
        "z": "",
        "name": "All Streetlights",
        "tab": "34cd862d.17c2ba",
        "order": 3,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "69cceace.d25ef4",
        "type": "ui_tab",
        "z": "",
        "name": "Temperature Room",
        "icon": "fa-thermometer-three-quarters",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "356f47e.00558b8",
        "type": "ui_group",
        "z": "",
        "name": "Temperature inside room",
        "tab": "69cceace.d25ef4",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d7fd097a.f647f8",
        "type": "ui_group",
        "z": "",
        "name": "Temperature of room",
        "tab": "fe4aff1f.405b2",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "6f16db78.0b8144",
        "type": "ui_group",
        "z": "",
        "name": "Trafficlights",
        "tab": "fe4aff1f.405b2",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2d56375.7b04bc8",
        "type": "ui_group",
        "z": "",
        "name": "Parking",
        "tab": "fe4aff1f.405b2",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "e6b7bb17.01b428",
        "type": "ui_group",
        "z": "",
        "name": "Door",
        "tab": "fe4aff1f.405b2",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5c3c9f71.602d9",
        "type": "ui_tab",
        "z": "",
        "name": "Trafficlights",
        "icon": "traffic",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3c22e70e.171988",
        "type": "ui_group",
        "z": "",
        "name": "Case",
        "tab": "5c3c9f71.602d9",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7e260d0.f06eff4",
        "type": "ui_group",
        "z": "",
        "name": "Mode",
        "tab": "34cd862d.17c2ba",
        "order": 1,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "1b87c780.ec0478",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "IQRF-GW",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "a270fdc3.45369",
        "type": "mqtt-broker",
        "z": "",
        "name": "IQRF-GW",
        "broker": "a15iai57hwdrep-ats.iot.us-west-2.amazonaws.com",
        "port": "8883",
        "tls": "",
        "clientid": "",
        "usetls": true,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "c0969ee.ee3956",
        "type": "ui_tab",
        "z": "",
        "name": "Parking Lot",
        "icon": "fa-car",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f36658ba.4bd0f8",
        "type": "ui_group",
        "z": "",
        "name": "Gas station parking lot",
        "tab": "c0969ee.ee3956",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "e8cdc82f.5c4018",
        "type": "ui_tab",
        "z": "",
        "name": "Doorlock",
        "icon": "lock",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d87d6787.d57888",
        "type": "ui_group",
        "z": "",
        "name": "Work mode",
        "tab": "5c3c9f71.602d9",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "797e5694.244448",
        "type": "ui_group",
        "z": "",
        "name": "Automatic",
        "tab": "5c3c9f71.602d9",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a2341206.ccb3",
        "type": "ui_group",
        "z": "",
        "name": "Light Sensor",
        "tab": "34cd862d.17c2ba",
        "order": 2,
        "disp": true,
        "width": 6,
        "collapse": false
    },
    {
        "id": "160c3f9b.7620c",
        "type": "ui_group",
        "z": "",
        "name": "Parking Space 1",
        "tab": "c0969ee.ee3956",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a3d6f430.393058",
        "type": "ui_group",
        "z": "",
        "name": "Parking Space 2",
        "tab": "c0969ee.ee3956",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c6e446e6.b6cad8",
        "type": "ui_group",
        "z": "",
        "name": "Parking Space 3",
        "tab": "c0969ee.ee3956",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ec3c4d8.d3c59b",
        "type": "ui_group",
        "z": "",
        "name": "Parking Space 4",
        "tab": "c0969ee.ee3956",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "3e3a05ec.fd8d8a",
        "type": "ui_group",
        "z": "",
        "name": "Crossovers",
        "tab": "5c3c9f71.602d9",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "60a4aca1.5a4724",
        "type": "ui_group",
        "z": "",
        "name": "North Trafficlight",
        "tab": "5c3c9f71.602d9",
        "order": 5,
        "disp": true,
        "width": "3",
        "collapse": false
    },
    {
        "id": "f6f28350.e1181",
        "type": "ui_group",
        "z": "",
        "name": "South Trafficlight",
        "tab": "5c3c9f71.602d9",
        "order": 6,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "5c32fd95.6cffe4",
        "type": "ui_group",
        "z": "",
        "name": "East Trafficlight",
        "tab": "5c3c9f71.602d9",
        "order": 7,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "d78844fa.b95648",
        "type": "ui_group",
        "z": "",
        "name": "West Trafficlight",
        "tab": "5c3c9f71.602d9",
        "order": 8,
        "disp": true,
        "width": 3,
        "collapse": false
    },
    {
        "id": "42182394.03a5fc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "60a4aca1.5a4724",
        "order": 1,
        "width": 3,
        "height": 1
    },
    {
        "id": "72bcf5ce.e6f3fc",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "797e5694.244448",
        "order": 2,
        "width": "6",
        "height": 1
    },
    {
        "id": "aa621335.e3583",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f6f28350.e1181",
        "order": 1,
        "width": "3",
        "height": 1
    },
    {
        "id": "d91a6203.b0b71",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "5c32fd95.6cffe4",
        "order": 1,
        "width": "3",
        "height": 1
    },
    {
        "id": "4c4ade7f.18e2a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "d78844fa.b95648",
        "order": 1,
        "width": "3",
        "height": 1
    },
    {
        "id": "fe90e2d7.81974",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "7c32c38c.422adc",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "65e0c5af.0f5fdc",
        "type": "ui_group",
        "z": "",
        "name": "Doorlock",
        "tab": "e8cdc82f.5c4018",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "98cc7007.df694",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Streetlight",
        "info": "",
        "x": 100,
        "y": 40,
        "wires": []
    },
    {
        "id": "1fe979c6.6b7c36",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 80,
        "wires": [
            [
                "c4a71887.3ffe88"
            ]
        ]
    },
    {
        "id": "c4a71887.3ffe88",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 1",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 80,
        "wires": [
            [
                "845d3013.d4993"
            ]
        ]
    },
    {
        "id": "ab5ffae0.788c68",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 2",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 120,
        "wires": [
            [
                "3c455df5.4583f2"
            ]
        ]
    },
    {
        "id": "586fa26f.d6800c",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 3",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 160,
        "wires": [
            [
                "c33f3cf6.8adae"
            ]
        ]
    },
    {
        "id": "809714e7.cdd4a8",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 4",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "4ac7b36c.30940c"
            ]
        ]
    },
    {
        "id": "65e30f7a.d1c84",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 5",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 240,
        "wires": [
            [
                "1e80111.1facbef"
            ]
        ]
    },
    {
        "id": "6f55a714.d446a8",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 6",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 6,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 280,
        "wires": [
            [
                "f2e54b73.a2d3e8"
            ]
        ]
    },
    {
        "id": "f04489f5.f40528",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Streetlight 7",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 7,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 290,
        "y": 320,
        "wires": [
            [
                "e4337a2e.986068"
            ]
        ]
    },
    {
        "id": "72b54fdb.d5a7c",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 120,
        "wires": [
            [
                "ab5ffae0.788c68"
            ]
        ]
    },
    {
        "id": "a8d6f654.a60b38",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 160,
        "wires": [
            [
                "586fa26f.d6800c"
            ]
        ]
    },
    {
        "id": "a603b0f9.1ac52",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "4",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 200,
        "wires": [
            [
                "809714e7.cdd4a8"
            ]
        ]
    },
    {
        "id": "ba029969.f5ae68",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 240,
        "wires": [
            [
                "65e30f7a.d1c84"
            ]
        ]
    },
    {
        "id": "cfa9e7a7.81d648",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "6",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 280,
        "wires": [
            [
                "6f55a714.d446a8"
            ]
        ]
    },
    {
        "id": "4258ea70.a50394",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "7",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 320,
        "wires": [
            [
                "f04489f5.f40528"
            ]
        ]
    },
    {
        "id": "845d3013.d4993",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight1',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3c455df5.4583f2",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight2',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "c33f3cf6.8adae",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight3',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4ac7b36c.30940c",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight4',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1e80111.1facbef",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight5',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f2e54b73.a2d3e8",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight6',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e4337a2e.986068",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('streetlight7',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "f89883dc.a4db2",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Trafficlight",
        "info": "",
        "x": 100,
        "y": 560,
        "wires": []
    },
    {
        "id": "d83b7189.48d0b",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Connection to gateway via MQTT",
        "info": "",
        "x": 150,
        "y": 40,
        "wires": []
    },
    {
        "id": "88db3f51.68df8",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "MQTT Response",
        "info": "",
        "x": 120,
        "y": 100,
        "wires": []
    },
    {
        "id": "23f5f8e7.0746d8",
        "type": "json",
        "z": "20fd471d.9b1ae8",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 350,
        "y": 140,
        "wires": [
            [
                "c7e9d2ff.713af"
            ]
        ]
    },
    {
        "id": "9b80e461.c16ba8",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Converts JSON string to JavaScript object",
        "info": "",
        "x": 460,
        "y": 100,
        "wires": []
    },
    {
        "id": "c7e9d2ff.713af",
        "type": "link out",
        "z": "20fd471d.9b1ae8",
        "name": "IQRF Response",
        "links": [
            "102b5081.287e0f",
            "85bc8ac5.5771f8",
            "643b9938.000c98",
            "7075bca7.878974",
            "3edb7425.eaa55c",
            "7cc4c550.84e87c",
            "74f8fa23.e20ba4"
        ],
        "x": 715,
        "y": 140,
        "wires": []
    },
    {
        "id": "4a73202c.e9fe4",
        "type": "debug",
        "z": "20fd471d.9b1ae8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 650,
        "y": 260,
        "wires": []
    },
    {
        "id": "79dbf9e9.08bfc8",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Debugging incoming Dpa Response",
        "info": "",
        "x": 720,
        "y": 220,
        "wires": []
    },
    {
        "id": "d7c5c9c9.024db8",
        "type": "link in",
        "z": "20fd471d.9b1ae8",
        "name": "Data pull / Request (MQTT)",
        "links": [
            "c7dbb3c0.fcb8d",
            "78ad220d.2333fc"
        ],
        "x": 315,
        "y": 360,
        "wires": [
            [
                "a0a8bc4d.42323",
                "4a73202c.e9fe4"
            ]
        ]
    },
    {
        "id": "fd899ca7.326dd",
        "type": "link in",
        "z": "20fd471d.9b1ae8",
        "name": "Data from UI (MQTT)",
        "links": [
            "6ab55ef9.a8af9",
            "ddd86b70.8791e8",
            "961806af.e6f548",
            "848e13ef.3f00d",
            "23be2c8b.9a7a34",
            "9f34b8d3.11dd38",
            "67cec898.643aa8",
            "6b64f9ad.d14608",
            "4daa2b7c.a26d84",
            "6ccb3976.4c4208",
            "795561ad.36ccc",
            "d20e522e.a0d5",
            "fbef98db.f89ea8",
            "259b69fb.db1ba6",
            "65926b78.685854",
            "de4bdba6.04dcf8",
            "de9598b0.398c18",
            "e4643234.fca6e",
            "aed4cdf2.7a06d"
        ],
        "x": 315,
        "y": 440,
        "wires": [
            [
                "a0a8bc4d.42323",
                "4a73202c.e9fe4"
            ]
        ]
    },
    {
        "id": "30759c35.4342e4",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Data pull / Request",
        "info": "",
        "x": 390,
        "y": 320,
        "wires": []
    },
    {
        "id": "eff9aa44.1b9e98",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Data from UI",
        "info": "",
        "x": 370,
        "y": 400,
        "wires": []
    },
    {
        "id": "3b96dfc8.f975a",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "e3ade7c0.d58c08",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 80,
        "wires": [
            [
                "f398a926.876da8"
            ]
        ]
    },
    {
        "id": "68aa237a.21cf6c",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 1",
        "info": "",
        "x": 110,
        "y": 40,
        "wires": []
    },
    {
        "id": "517a6ad.51cf894",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "Automatic",
        "func": "var automatic_or_manual_streetlights = global.get('automatic_or_manual_streetlights');\nvar photoresistor_value = global.get('photoresistor_value');\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 1,\n      \"pNum\": 32,\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = 255; // (0xFF) Broadcasts the message to all IQRF's (makes the light turn on at the same time without noticable delay) \n\n    if (automatic_or_manual_streetlights === true){ //If streetlights are set to automatic\n        if (photoresistor_value < 50){               //Dont turn on at all if value from photoresistor is below 50\n            msg.payload.data.req.pData = [0, 0];\n            return msg;\n        }\n        if (photoresistor_value >= 50){              //Turn on if value of photoresistor is 50 or above\n            msg.payload.data.req.pData = [0, photoresistor_value];\n            return msg;\n        }\n    }",
        "outputs": 1,
        "noerr": 0,
        "x": 700,
        "y": 100,
        "wires": [
            [
                "ddd86b70.8791e8",
                "e4aae362.e62a1"
            ]
        ]
    },
    {
        "id": "60fd4a1b.20f4d4",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "e3ade7c0.d58c08",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 120,
        "wires": [
            [
                "f398a926.876da8"
            ]
        ]
    },
    {
        "id": "ddd86b70.8791e8",
        "type": "link out",
        "z": "4be04b4d.314884",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 775,
        "y": 840,
        "wires": []
    },
    {
        "id": "cd725395.cab6f",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Data to MQTT",
        "info": "",
        "x": 830,
        "y": 800,
        "wires": []
    },
    {
        "id": "d1346b7a.0c3088",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "e3ade7c0.d58c08",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 160,
        "wires": [
            [
                "f398a926.876da8"
            ]
        ]
    },
    {
        "id": "d8cee389.38dc",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "e3ade7c0.d58c08",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 200,
        "wires": [
            [
                "f398a926.876da8"
            ]
        ]
    },
    {
        "id": "ddd0f9a8.771a28",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 2",
        "info": "",
        "x": 110,
        "y": 300,
        "wires": []
    },
    {
        "id": "84540103.0fdf3",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 3",
        "info": "",
        "x": 110,
        "y": 520,
        "wires": []
    },
    {
        "id": "5eafaa0e.f84cd4",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 4",
        "info": "",
        "x": 110,
        "y": 740,
        "wires": []
    },
    {
        "id": "76394d5a.0edd24",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 5",
        "info": "",
        "x": 110,
        "y": 960,
        "wires": []
    },
    {
        "id": "e568af9c.17508",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 6",
        "info": "",
        "x": 110,
        "y": 1180,
        "wires": []
    },
    {
        "id": "6f3b3df9.65f214",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Streetlight 7",
        "info": "",
        "x": 110,
        "y": 1400,
        "wires": []
    },
    {
        "id": "c43b6e9d.0d382",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "777c3b40.c0e604",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "5eb0a65b.c49928"
            ]
        ]
    },
    {
        "id": "3a0b7122.dce46e",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "777c3b40.c0e604",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 380,
        "wires": [
            [
                "5eb0a65b.c49928"
            ]
        ]
    },
    {
        "id": "abe86aac.042b98",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "777c3b40.c0e604",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "5eb0a65b.c49928"
            ]
        ]
    },
    {
        "id": "36e6f74e.d46138",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "777c3b40.c0e604",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 460,
        "wires": [
            [
                "5eb0a65b.c49928"
            ]
        ]
    },
    {
        "id": "bcacb843.882998",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "65ec126.1850dec",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 560,
        "wires": [
            [
                "971cdabd.f64eb8"
            ]
        ]
    },
    {
        "id": "799013e8.3aa3ac",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "65ec126.1850dec",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 600,
        "wires": [
            [
                "971cdabd.f64eb8"
            ]
        ]
    },
    {
        "id": "914cf0a9.4f262",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "65ec126.1850dec",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 640,
        "wires": [
            [
                "971cdabd.f64eb8"
            ]
        ]
    },
    {
        "id": "ff09e82f.abf468",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "65ec126.1850dec",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "971cdabd.f64eb8"
            ]
        ]
    },
    {
        "id": "312c72bf.a18dce",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d9cfc152.00378",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 780,
        "wires": [
            [
                "54b3d73a.eaea78"
            ]
        ]
    },
    {
        "id": "dc883225.7f172",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d9cfc152.00378",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 820,
        "wires": [
            [
                "54b3d73a.eaea78"
            ]
        ]
    },
    {
        "id": "6186bd18.e39004",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d9cfc152.00378",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 860,
        "wires": [
            [
                "54b3d73a.eaea78"
            ]
        ]
    },
    {
        "id": "994e2a48.e8a9a8",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d9cfc152.00378",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 900,
        "wires": [
            [
                "54b3d73a.eaea78"
            ]
        ]
    },
    {
        "id": "cf5c5a6f.5a0698",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "75dfe155.273dd",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1000,
        "wires": [
            [
                "47b97d08.e46914"
            ]
        ]
    },
    {
        "id": "9fa69d93.c9e67",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "75dfe155.273dd",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1040,
        "wires": [
            [
                "47b97d08.e46914"
            ]
        ]
    },
    {
        "id": "78886251.6c937c",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "75dfe155.273dd",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1080,
        "wires": [
            [
                "47b97d08.e46914"
            ]
        ]
    },
    {
        "id": "641d9c3.d869364",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "75dfe155.273dd",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1120,
        "wires": [
            [
                "47b97d08.e46914"
            ]
        ]
    },
    {
        "id": "4b61da6c.055b54",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d6ac343.e7ffdc8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1220,
        "wires": [
            [
                "f4773bcf.06b998"
            ]
        ]
    },
    {
        "id": "9cae5fa3.8046b",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d6ac343.e7ffdc8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1260,
        "wires": [
            [
                "f4773bcf.06b998"
            ]
        ]
    },
    {
        "id": "319d83cd.733dfc",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d6ac343.e7ffdc8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1300,
        "wires": [
            [
                "f4773bcf.06b998"
            ]
        ]
    },
    {
        "id": "984934a.64aecc8",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "d6ac343.e7ffdc8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1340,
        "wires": [
            [
                "f4773bcf.06b998"
            ]
        ]
    },
    {
        "id": "1708085f.0b0198",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "5ac92e45.9d96e",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1440,
        "wires": [
            [
                "8b40f671.9291d8"
            ]
        ]
    },
    {
        "id": "9ab31d08.e45f9",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "5ac92e45.9d96e",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1480,
        "wires": [
            [
                "8b40f671.9291d8"
            ]
        ]
    },
    {
        "id": "e44b96d3.fd3f58",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "5ac92e45.9d96e",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1520,
        "wires": [
            [
                "8b40f671.9291d8"
            ]
        ]
    },
    {
        "id": "976aadd3.8cc7e",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "5ac92e45.9d96e",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1560,
        "wires": [
            [
                "8b40f671.9291d8"
            ]
        ]
    },
    {
        "id": "5eb0a65b.c49928",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S2",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 2,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight2\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 400,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "971cdabd.f64eb8",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S3",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 3,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight3\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 620,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "54b3d73a.eaea78",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S4",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 4,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight4\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 840,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "47b97d08.e46914",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S5",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 5,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight5\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1060,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "f4773bcf.06b998",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S6",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 6,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight6\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1280,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "8b40f671.9291d8",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S7",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 7,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"streetlight7\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1500,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "407d9c7f.545f54",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "All Streetlights",
        "info": "",
        "x": 110,
        "y": 1640,
        "wires": []
    },
    {
        "id": "64a85b5f.c60154",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "541bd608.1c05a8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1680,
        "wires": [
            [
                "ec942252.80ae3"
            ]
        ]
    },
    {
        "id": "24f17001.24593",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "541bd608.1c05a8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 90,
        "y": 1720,
        "wires": [
            [
                "ec942252.80ae3"
            ]
        ]
    },
    {
        "id": "60768a40.fe8be4",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "541bd608.1c05a8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim ON",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1760,
        "wires": [
            [
                "ec942252.80ae3"
            ]
        ]
    },
    {
        "id": "a5d46bc3.019348",
        "type": "ui_button",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "541bd608.1c05a8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Dim OFF",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "Streetlight 1",
        "x": 100,
        "y": 1800,
        "wires": [
            [
                "ec942252.80ae3"
            ]
        ]
    },
    {
        "id": "ec942252.80ae3",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "All Streetlights",
        "func": "var streetlight=msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 1,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = 255;                            //Broadcast to all nodes\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on all streetlights\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off all streetlights\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on all streetlights\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off all streetlights\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 1740,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "ea4ff946.34d898",
        "type": "inject",
        "z": "4adbae1e.cad6e",
        "name": "Repeat interval (1 min)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 80,
        "wires": [
            [
                "6039c2ce.63fb4c"
            ]
        ]
    },
    {
        "id": "6039c2ce.63fb4c",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Read temp controlled room embedded thermometer",
        "func": "var temp_sensor_node = global.get(\"temp_sensor_node\");  //Gets the global temp node number\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Temperature of room\",\n    \"req\": {\n      \"nAdr\": 10,\n      \"pNum\": 34,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = temp_sensor_node;           //Adds right node number to msg.payload\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 80,
        "wires": [
            [
                "c7dbb3c0.fcb8d"
            ]
        ]
    },
    {
        "id": "8e1fa209.4599a",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Temperature controlled room",
        "info": "",
        "x": 160,
        "y": 380,
        "wires": []
    },
    {
        "id": "906d18fd.05b0f8",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "8",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 420,
        "wires": [
            [
                "91217f1f.16746"
            ]
        ]
    },
    {
        "id": "91217f1f.16746",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Heating 8",
        "tooltip": "",
        "group": "d7fd097a.f647f8",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 280,
        "y": 420,
        "wires": [
            [
                "b698956f.f34b78"
            ]
        ]
    },
    {
        "id": "b698956f.f34b78",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('heating_node',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "c7dbb3c0.fcb8d",
        "type": "link out",
        "z": "4adbae1e.cad6e",
        "name": "Temperature controlled room request",
        "links": [
            "d7c5c9c9.024db8"
        ],
        "x": 800,
        "y": 80,
        "wires": []
    },
    {
        "id": "97ec9fcd.c7174",
        "type": "comment",
        "z": "20fd471d.9b1ae8",
        "name": "Response from the IQRF",
        "info": "",
        "x": 810,
        "y": 100,
        "wires": []
    },
    {
        "id": "102b5081.287e0f",
        "type": "link in",
        "z": "4adbae1e.cad6e",
        "name": "Temptrature of room response",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 195,
        "y": 160,
        "wires": [
            [
                "2f3c1952.c7efd6"
            ]
        ]
    },
    {
        "id": "2f3c1952.c7efd6",
        "type": "switch",
        "z": "4adbae1e.cad6e",
        "name": "Check correct msgId",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Temperature of room",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 160,
        "wires": [
            [
                "13eb405a.e440d"
            ]
        ]
    },
    {
        "id": "13eb405a.e440d",
        "type": "switch",
        "z": "4adbae1e.cad6e",
        "name": "Check correct nAdr",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "temp_sensor_node",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 160,
        "wires": [
            [
                "99a8b54b.663b98"
            ]
        ]
    },
    {
        "id": "99a8b54b.663b98",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Convert temp from hex to decimal",
        "func": "var temp_sensor = msg.payload.data.rsp.pData[0];            //Gets the information stored in pData[0]\nvar temp_sensor_decimal = msg.payload.data.rsp.pData[1];    //Gets the information stored in pData[1]\nvar total_temp = temp_sensor;\n\nif (temp_sensor_decimal >= 128){            //If the information in pData[1] is equal or more than 128 it means its temperature + 0.5 degrees\n    total_temp += 0.5;          \n}\n\nmsg.payload = total_temp;                   //Adds the temperature to msg.payload\n\nglobal.set('temp_of_room',msg.payload);     //Sets the payload as a global variable called temp_of_room\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 860,
        "y": 160,
        "wires": [
            [
                "a41a667e.4fb2a8",
                "ca158a06.cc22f8",
                "b4483842.860f48"
            ]
        ]
    },
    {
        "id": "50f647b6.1af8f8",
        "type": "comment",
        "z": "4adbae1e.cad6e",
        "name": "Finds, and calculates the temperature, adds the actual temp of the room to a variable",
        "info": "",
        "x": 1010,
        "y": 120,
        "wires": []
    },
    {
        "id": "ca158a06.cc22f8",
        "type": "ui_chart",
        "z": "4adbae1e.cad6e",
        "name": "Chart",
        "group": "356f47e.00558b8",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "outputs": 1,
        "x": 1150,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "a41a667e.4fb2a8",
        "type": "ui_gauge",
        "z": "4adbae1e.cad6e",
        "name": "Gauge",
        "group": "356f47e.00558b8",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "",
        "label": "°C",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1150,
        "y": 160,
        "wires": []
    },
    {
        "id": "7550b837.497608",
        "type": "ui_text_input",
        "z": "4adbae1e.cad6e",
        "name": "",
        "label": "Enter temperature for the room",
        "tooltip": "Press 'ENTER' at desired temperature",
        "group": "356f47e.00558b8",
        "order": 4,
        "width": "0",
        "height": "0",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 190,
        "y": 300,
        "wires": [
            [
                "4d9c6adf.96af64"
            ]
        ]
    },
    {
        "id": "b4f658cb.c4e618",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Heating control",
        "func": "var temp_of_room_ref = global.get('temp_of_room_ref');\nvar temp_of_room = global.get('temp_of_room');\nvar temp_room_ON_OFF = global.get('temp_room_ON_OFF');\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Temperature controlled room\",\n    \"req\": {\n      \"nAdr\": 8,\n      \"pNum\": 34,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = global.get(\"heating_node\"); //Sets the right node number\n\nswitch (temp_room_ON_OFF){\n    case 0:\n        msg.payload.data.req.pData = [0];               //turns off the heating\n        return msg;\n    case 1:\n        if (temp_of_room < temp_of_room_ref){\n        msg.payload.data.req.pData = [1];               //turns on the heating\n        }\n        else if (temp_of_room >= temp_of_room_ref){\n        msg.payload.data.req.pData = [0];               //turns on the heating\n        }\n        return msg;\n    default:\n        msg.payload.data.req.pData = [0];               //turns on the heating\n        return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 480,
        "y": 460,
        "wires": [
            [
                "961806af.e6f548"
            ]
        ]
    },
    {
        "id": "961806af.e6f548",
        "type": "link out",
        "z": "4adbae1e.cad6e",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 795,
        "y": 460,
        "wires": []
    },
    {
        "id": "4d9c6adf.96af64",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Temp Ref Global Variable",
        "func": "global.set('temp_of_room_ref', msg.payload); //Makes the temp reference as a global variable\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "d33d4f0.56a6ab",
        "type": "inject",
        "z": "4adbae1e.cad6e",
        "name": "Repeat interval (57 s)",
        "topic": "Repeat interval",
        "payload": "1",
        "payloadType": "num",
        "repeat": "57",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 460,
        "wires": [
            [
                "b4f658cb.c4e618"
            ]
        ]
    },
    {
        "id": "6740c6c8.ac99c8",
        "type": "comment",
        "z": "4adbae1e.cad6e",
        "name": "Gets temperature from UI, then saves it as a global interval",
        "info": "",
        "x": 270,
        "y": 260,
        "wires": []
    },
    {
        "id": "64127e1d.5e9fb",
        "type": "comment",
        "z": "4adbae1e.cad6e",
        "name": "Run function each 10 s",
        "info": "",
        "x": 140,
        "y": 40,
        "wires": []
    },
    {
        "id": "eada9bd3.256ac8",
        "type": "comment",
        "z": "4adbae1e.cad6e",
        "name": "Run function each 10 s",
        "info": "",
        "x": 160,
        "y": 420,
        "wires": []
    },
    {
        "id": "8bf42e0a.ed25",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "9",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 460,
        "wires": [
            [
                "ad60913b.d3456"
            ]
        ]
    },
    {
        "id": "bb54f5b5.398cb8",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 500,
        "wires": [
            [
                "83bb03d.17835"
            ]
        ]
    },
    {
        "id": "ad60913b.d3456",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Fan 9",
        "tooltip": "",
        "group": "d7fd097a.f647f8",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "cb5422dc.534ec"
            ]
        ]
    },
    {
        "id": "83bb03d.17835",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Temperature Sensor 10",
        "tooltip": "",
        "group": "d7fd097a.f647f8",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 330,
        "y": 500,
        "wires": [
            [
                "82956084.72926"
            ]
        ]
    },
    {
        "id": "cb5422dc.534ec",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('fan_node',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "82956084.72926",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('temp_sensor_node',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b8c5afe2.50cd4",
        "type": "inject",
        "z": "4adbae1e.cad6e",
        "name": "Repeat interval (57 s)",
        "topic": "Repeat interval",
        "payload": "1",
        "payloadType": "num",
        "repeat": "57",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 500,
        "wires": [
            [
                "4ea9e4ea.a3c32c"
            ]
        ]
    },
    {
        "id": "4ea9e4ea.a3c32c",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Fan control",
        "func": "var temp_of_room_ref = global.get('temp_of_room_ref');\nvar temp_of_room = global.get('temp_of_room');\nvar temp_room_ON_OFF = global.get('temp_room_ON_OFF');\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Temperature controlled room\",\n    \"req\": {\n      \"nAdr\": 9,\n      \"pNum\": 34,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = global.get(\"fan_node\"); //Sets the right node number\n\nswitch (temp_room_ON_OFF){\n    case 0:\n        msg.payload.data.req.pData = [0];           //turns off the fan\n        return msg;\n    case 1:\n        if (temp_of_room < temp_of_room_ref){\n        msg.payload.data.req.pData = [0];           //turns off the fan\n        }\n        else if (temp_of_room >= temp_of_room_ref){\n        msg.payload.data.req.pData = [1];           //turns on the fan\n        }\n        return msg;\n    default:\n        msg.payload.data.req.pData = [0];           //turns off the fan\n        return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 500,
        "wires": [
            [
                "9f34b8d3.11dd38"
            ]
        ]
    },
    {
        "id": "9f34b8d3.11dd38",
        "type": "link out",
        "z": "4adbae1e.cad6e",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 795,
        "y": 500,
        "wires": []
    },
    {
        "id": "4e6c6940.944f68",
        "type": "ui_dropdown",
        "z": "4adbae1e.cad6e",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "356f47e.00558b8",
        "order": 3,
        "width": "0",
        "height": "0",
        "passthru": true,
        "options": [
            {
                "label": "Turn heating room OFF",
                "value": 0,
                "type": "num"
            },
            {
                "label": "Turn heating room ON",
                "value": 1,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 120,
        "y": 360,
        "wires": [
            [
                "31e8b5c2.2e306a"
            ]
        ]
    },
    {
        "id": "31e8b5c2.2e306a",
        "type": "function",
        "z": "4adbae1e.cad6e",
        "name": "Room ON/OFF Global Variable",
        "func": "global.set('temp_room_ON_OFF', msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "15f5e8d5.cc21d7",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "11",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 600,
        "wires": [
            [
                "e8289309.83f48"
            ]
        ]
    },
    {
        "id": "56aff2e6.0ecbfc",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "12",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 640,
        "wires": [
            [
                "1fd5c037.ce008"
            ]
        ]
    },
    {
        "id": "80151187.1e3f",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "13",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 680,
        "wires": [
            [
                "9c3884d7.ef1f98"
            ]
        ]
    },
    {
        "id": "ec8bba74.75d918",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "14",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 720,
        "wires": [
            [
                "d32d9ea1.ae098"
            ]
        ]
    },
    {
        "id": "e8289309.83f48",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Trafficlight North 11",
        "tooltip": "",
        "group": "6f16db78.0b8144",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 600,
        "wires": [
            [
                "8adf0b8c.098d78"
            ]
        ]
    },
    {
        "id": "1fd5c037.ce008",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Trafficlight South 12",
        "tooltip": "",
        "group": "6f16db78.0b8144",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 320,
        "y": 640,
        "wires": [
            [
                "cf28892d.e53928"
            ]
        ]
    },
    {
        "id": "9c3884d7.ef1f98",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Trafficlight East 13",
        "tooltip": "",
        "group": "6f16db78.0b8144",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 680,
        "wires": [
            [
                "68b22c5b.226634"
            ]
        ]
    },
    {
        "id": "d32d9ea1.ae098",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Trafficlight West 14",
        "tooltip": "",
        "group": "6f16db78.0b8144",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 720,
        "wires": [
            [
                "4b6fe7da.9eb308"
            ]
        ]
    },
    {
        "id": "8adf0b8c.098d78",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('trafficlight_north_nAdr',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "cf28892d.e53928",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('trafficlight_south_nAdr',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "68b22c5b.226634",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('trafficlight_east_nAdr',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "4b6fe7da.9eb308",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('trafficlight_west_nAdr',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "2d8ee41d.78eddc",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 1 or 7",
        "func": "var walkNorth2West = global.get(\"walkNorth2West\");\nvar walkWest2North = global.get(\"walkWest2North\");\nvar walkSouth2East = global.get(\"walkSouth2East\");\nvar walkEast2South = global.get(\"walkEast2South\");\nglobal.set(\"tl_case\", 1);\n\nif(walkNorth2West || walkWest2North || walkSouth2East || walkEast2South)\n{\n    msg.payload={\n      \"mType\": \"iqrfRawHdp\",\n      \"data\": {\n        \"msgId\": \"Trafficlight\",\n        \"req\": {\n          \"nAdr\": 255,\n          \"pNum\": 33,\n          \"pCmd\": 0,\n          \"hwpId\": 65535,\n          \"pData\": [7]\n        },\n        \"returnVerbose\": true\n      }\n    };\n    global.set(\"walkNorth2West\", false);\n    global.set(\"walkWest2North\", false);\n    global.set(\"walkSouth2East\", false);\n    global.set(\"walkEast2South\", false);\n}\nelse\n{\n    msg.payload={\n      \"mType\": \"iqrfRawHdp\",\n      \"data\": {\n        \"msgId\": \"Trafficlight\",\n        \"req\": {\n          \"nAdr\": 255,\n          \"pNum\": 33,\n          \"pCmd\": 0,\n          \"hwpId\": 65535,\n          \"pData\": [1]\n        },\n        \"returnVerbose\": true\n      }\n    };\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "f61ce051.cafab",
                "6b64f9ad.d14608",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "23be2c8b.9a7a34",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 495,
        "y": 120,
        "wires": []
    },
    {
        "id": "fc2e89e4.405e38",
        "type": "switch",
        "z": "e311ef5.6cc341",
        "name": "",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Trafficlight",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1570,
        "y": 80,
        "wires": [
            [
                "1bfce789.bc5d38",
                "17fda437.9728dc",
                "ef9b2526.14f2b8",
                "fbc0ca07.50ad68"
            ]
        ]
    },
    {
        "id": "1bfce789.bc5d38",
        "type": "switch",
        "z": "e311ef5.6cc341",
        "name": "South TL",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trafficlight_south_nAdr",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1760,
        "y": 120,
        "wires": [
            [
                "90a05a1e.305048"
            ]
        ]
    },
    {
        "id": "85bc8ac5.5771f8",
        "type": "link in",
        "z": "e311ef5.6cc341",
        "name": "Trafficlight UI",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 1435,
        "y": 80,
        "wires": [
            [
                "fc2e89e4.405e38"
            ]
        ]
    },
    {
        "id": "90a05a1e.305048",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Global Set South",
        "func": "var pData = msg.payload.data.rsp.pData[0];\nvar walkSouth;\nvar walkEast;\n\nswitch (pData) {\n    case 0:\n        walkSouth   = global.set(\"walkSouth2West\", false);\n        walkEast    = global.set(\"walkSouth2East\", false);\n        break;\n        \n    case 1:\n        walkSouth   = global.set(\"walkSouth2West\", false);\n        walkEast    = global.set(\"walkSouth2East\", true);\n        break;\n    \n    case 16:\n        walkSouth   = global.set(\"walkSouth2West\", true);\n        walkEast    = global.set(\"walkSouth2East\", false);\n        break;\n        \n    case 17:\n        walkSouth   = global.set(\"walkSouth2West\", true);\n        walkEast    = global.set(\"walkSouth2East\", true);\n        break;\n}\n\nmsg.payload = pData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1950,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "6dcb62f2.41a59c",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Light sensor",
        "info": "",
        "x": 110,
        "y": 780,
        "wires": []
    },
    {
        "id": "cdc7ba61.8c3088",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "15",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 820,
        "wires": [
            [
                "bc161238.791f2"
            ]
        ]
    },
    {
        "id": "bc161238.791f2",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Light sensor 15",
        "tooltip": "",
        "group": "e0475dc8.903b9",
        "order": 8,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 300,
        "y": 820,
        "wires": [
            [
                "962a53d0.615c5"
            ]
        ]
    },
    {
        "id": "962a53d0.615c5",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('light_sensor_nAdr',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "1aea7462.9156dc",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "Auto/man global variable",
        "func": "global.set('automatic_or_manual_streetlights', msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "cac9fe8c.48748",
        "type": "ui_dropdown",
        "z": "4be04b4d.314884",
        "name": "",
        "label": "Automatic/Manual: ",
        "tooltip": "",
        "place": "Select option",
        "group": "7e260d0.f06eff4",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "Manual",
                "value": false,
                "type": "bool"
            },
            {
                "label": "Automatic",
                "value": true,
                "type": "bool"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 130,
        "y": 1900,
        "wires": [
            [
                "1aea7462.9156dc"
            ]
        ]
    },
    {
        "id": "74965149.f6d0b",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Automatic = true, manual = false",
        "info": "",
        "x": 170,
        "y": 1860,
        "wires": []
    },
    {
        "id": "4407abf5.6cae54",
        "type": "inject",
        "z": "4be04b4d.314884",
        "name": "Repeat interval (13 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "13",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 2000,
        "wires": [
            [
                "3ae74615.b2629a"
            ]
        ]
    },
    {
        "id": "3ae74615.b2629a",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "Read light sensor",
        "func": "var automatic_or_manual_streetlights = global.get('automatic_or_manual_streetlights');\n\nmsg.payload = {\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Photoresistor\",\n    \"req\": {\n      \"nAdr\": 15,\n      \"pNum\": 32,\n      \"pCmd\": 49,\n      \"hwpId\": 65535,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n}\n\nif (automatic_or_manual_streetlights === true){\nmsg.payload.data.req.nAdr = global.get(\"light_sensor_nAdr\");  //Replaces the node adress with the right nAdr value\n\nreturn msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 2000,
        "wires": [
            [
                "78ad220d.2333fc"
            ]
        ]
    },
    {
        "id": "78ad220d.2333fc",
        "type": "link out",
        "z": "4be04b4d.314884",
        "name": "Temperature controlled room request",
        "links": [
            "d7c5c9c9.024db8"
        ],
        "x": 800,
        "y": 2000,
        "wires": []
    },
    {
        "id": "adba3de0.3337b",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Run function each 10 s",
        "info": "",
        "x": 140,
        "y": 1960,
        "wires": []
    },
    {
        "id": "f39ea64d.2007c8",
        "type": "switch",
        "z": "4be04b4d.314884",
        "name": "",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Photoresistor",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 2100,
        "wires": [
            [
                "c1764a5.5b88cb8"
            ]
        ]
    },
    {
        "id": "c1764a5.5b88cb8",
        "type": "switch",
        "z": "4be04b4d.314884",
        "name": "",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "light_sensor_nAdr",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 2100,
        "wires": [
            [
                "b8a769a1.5e9908"
            ]
        ]
    },
    {
        "id": "643b9938.000c98",
        "type": "link in",
        "z": "4be04b4d.314884",
        "name": "Trafficlight UI",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 215,
        "y": 2100,
        "wires": [
            [
                "f39ea64d.2007c8"
            ]
        ]
    },
    {
        "id": "b8a769a1.5e9908",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "Photoresistor value",
        "func": "var automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\n\nmsg.payload = msg.payload.data.rsp.pData[1];        //Gets data from pData[1]\n\nglobal.set('photoresistor_value',msg.payload);      //Makes the photoresistor value global\n\nmsg.payload = Math.round(msg.payload/(255/100));    //Makes the photoresistor value a number between 0-100\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 2100,
        "wires": [
            [
                "6be07a44.13b9d4"
            ]
        ]
    },
    {
        "id": "ed68ca63.fb4058",
        "type": "comment",
        "z": "4be04b4d.314884",
        "name": "Collects data from sensors at DDC-SE-01",
        "info": "",
        "x": 540,
        "y": 1960,
        "wires": []
    },
    {
        "id": "e4aae362.e62a1",
        "type": "debug",
        "z": "4be04b4d.314884",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 860,
        "y": 100,
        "wires": []
    },
    {
        "id": "840ff91c.179988",
        "type": "inject",
        "z": "4be04b4d.314884",
        "name": "Repeat interval (13 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "13",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 500,
        "y": 100,
        "wires": [
            [
                "517a6ad.51cf894"
            ]
        ]
    },
    {
        "id": "f398a926.876da8",
        "type": "function",
        "z": "4be04b4d.314884",
        "name": "S1",
        "func": "var streetlight = msg.payload;\nvar automatic_or_manual_streetlights = global.get(\"automatic_or_manual_streetlights\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Streetlight\",\n    \"req\": {\n      \"nAdr\": 1,\n      \"pNum\": 32,                                           //0x20\n      \"pCmd\": 0,\n      \"hwpId\": 15,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr = global.get(\"streetlight1\"); //Sets the right node number\n\nif (automatic_or_manual_streetlights === false)\n{\n    switch(streetlight)\n    {\n        case 1:\n            msg.payload.data.req.pData = [0, 255];          //turn on streetlight\n            return msg;\n        case 2:\n            msg.payload.data.req.pData = [0, 0];            //turn off streetlight\n            return msg;\n        case 3:\n            msg.payload.data.req.pData = [1, 0, 1, 255, 0]; //dim on streetlight\n            return msg;\n        case 4:\n            msg.payload.data.req.pData = [1, 0, 1, 1, 255]; //dim off streetlight\n            return msg;\n        default:\n            break;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 140,
        "wires": [
            [
                "ddd86b70.8791e8"
            ]
        ]
    },
    {
        "id": "a1d9dbac.fb86e8",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 2",
        "func": "global.set(\"tl_case\", 2);\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [2]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 400,
        "wires": [
            [
                "da343a58.acd168",
                "67cec898.643aa8",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "cb653332.7d6c3",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 3",
        "func": "global.set(\"tl_case\", 3);\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [3]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 520,
        "wires": [
            [
                "87c45fdb.693ff",
                "fbef98db.f89ea8",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "87c45fdb.693ff",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 520,
        "wires": [
            [
                "aa176477.12a9f8"
            ]
        ]
    },
    {
        "id": "8c3a4d81.a9d3e",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 720,
        "wires": [
            [
                "f22e6520.843798"
            ]
        ]
    },
    {
        "id": "70637af7.ca7764",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 840,
        "wires": [
            [
                "9f0d98ff.0c1288"
            ]
        ]
    },
    {
        "id": "12761ddd.4c3312",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 4 or 8",
        "func": "var walkNorth2East = global.get(\"walkNorth2East\");\nvar walkEast2North = global.get(\"walkEast2North\");\nvar walkSouth2West = global.get(\"walkSouth2West\");\nvar walkWest2South = global.get(\"walkWest2South\");\nglobal.set(\"tl_case\", 4);\n\nif(walkNorth2East || walkEast2North || walkSouth2West || walkWest2South)\n{\n    msg.payload={\n      \"mType\": \"iqrfRawHdp\",\n      \"data\": {\n        \"msgId\": \"Trafficlight\",\n        \"req\": {\n          \"nAdr\": 255,\n          \"pNum\": 33,\n          \"pCmd\": 0,\n          \"hwpId\": 65535,\n          \"pData\": [8]\n        },\n        \"returnVerbose\": true\n      }\n    };\n    global.set(\"walkNorth2East\", false);\n    global.set(\"walkEast2North\", false);\n    global.set(\"walkSouth2West\", false);\n    global.set(\"walkWest2South\", false);\n}\nelse\n{\n    msg.payload={\n      \"mType\": \"iqrfRawHdp\",\n      \"data\": {\n        \"msgId\": \"Trafficlight\",\n        \"req\": {\n          \"nAdr\": 255,\n          \"pNum\": 33,\n          \"pCmd\": 0,\n          \"hwpId\": 65535,\n          \"pData\": [4]\n        },\n        \"returnVerbose\": true\n      }\n    };\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 720,
        "wires": [
            [
                "8c3a4d81.a9d3e",
                "259b69fb.db1ba6",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "f22e6520.843798",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 5",
        "func": "global.set(\"tl_case\", 5);\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [5]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 840,
        "wires": [
            [
                "70637af7.ca7764",
                "65926b78.685854",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "9f0d98ff.0c1288",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 6",
        "func": "global.set(\"tl_case\", 6);\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [6]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 960,
        "wires": [
            [
                "a716f889.702ed8",
                "de4bdba6.04dcf8",
                "60028981.a659d8"
            ]
        ]
    },
    {
        "id": "c252415f.20c22",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Send case",
        "func": "var tl_case = global.get(\"tl_case\");\n\nif(tl_case == 9)\n{\n    tl_case = 0;\n}\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [tl_case]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 120,
        "wires": [
            [
                "23be2c8b.9a7a34"
            ]
        ]
    },
    {
        "id": "21cf6af9.ff6c16",
        "type": "ui_numeric",
        "z": "e311ef5.6cc341",
        "name": "",
        "label": "Case",
        "tooltip": "",
        "group": "3c22e70e.171988",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": false,
        "topic": "",
        "format": "{{msg.topic}}",
        "min": 0,
        "max": "10",
        "step": 1,
        "x": 210,
        "y": 80,
        "wires": [
            [
                "512f4f99.acda7"
            ]
        ]
    },
    {
        "id": "a716f889.702ed8",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 960,
        "wires": [
            [
                "ef44a55e.abcae8"
            ]
        ]
    },
    {
        "id": "a0a8bc4d.42323",
        "type": "ibmiot out",
        "z": "20fd471d.9b1ae8",
        "authentication": "boundService",
        "apiKey": "",
        "outputType": "cmd",
        "deviceId": "Raspberry_Pi_4b",
        "deviceType": "IQRF_GW",
        "eventCommandType": "iqrf",
        "format": "json",
        "data": "msg.payload",
        "qos": "2",
        "name": "IBM IoT",
        "service": "registered",
        "x": 720,
        "y": 360,
        "wires": []
    },
    {
        "id": "6234a78c.5adab8",
        "type": "ibmiot in",
        "z": "20fd471d.9b1ae8",
        "authentication": "boundService",
        "apiKey": "",
        "inputType": "evt",
        "logicalInterface": "",
        "ruleId": "",
        "deviceId": "",
        "applicationId": "",
        "deviceType": "+",
        "eventType": "+",
        "commandType": "",
        "format": "json",
        "name": "IBM IoT",
        "service": "registered",
        "allDevices": false,
        "allApplications": "",
        "allDeviceTypes": true,
        "allLogicalInterfaces": "",
        "allEvents": true,
        "allCommands": "",
        "allFormats": "",
        "qos": "2",
        "x": 90,
        "y": 140,
        "wires": [
            [
                "23f5f8e7.0746d8"
            ]
        ]
    },
    {
        "id": "11db4ae4.7b4395",
        "type": "function",
        "z": "2618dd02.6e7552",
        "name": "Send",
        "func": "var state = msg.payload;\nvar doorLocked;\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"DoorLock\",\n    \"req\": {\n      \"nAdr\": 10,\n      \"pNum\": 37,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [state]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"door_node\");\n\nif(state === 0)\n{\n    doorLocked = global.set(\"doorLocked\", true);\n}\nelse\n{\n    doorLocked = global.set(\"doorLocked\", false);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 710,
        "y": 120,
        "wires": [
            [
                "848e13ef.3f00d"
            ]
        ]
    },
    {
        "id": "848e13ef.3f00d",
        "type": "link out",
        "z": "2618dd02.6e7552",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 815,
        "y": 120,
        "wires": []
    },
    {
        "id": "b4483842.860f48",
        "type": "debug",
        "z": "4adbae1e.cad6e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1140,
        "y": 340,
        "wires": []
    },
    {
        "id": "4300a0e8.4a256",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Parking Lot",
        "info": "",
        "x": 110,
        "y": 880,
        "wires": []
    },
    {
        "id": "31b98b8e.b117a4",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "16",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 920,
        "wires": [
            [
                "4affd671.4288b8"
            ]
        ]
    },
    {
        "id": "4affd671.4288b8",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Parking Sensor 16",
        "tooltip": "",
        "group": "2d56375.7b04bc8",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 920,
        "wires": [
            [
                "cd5f256c.652b18"
            ]
        ]
    },
    {
        "id": "cd5f256c.652b18",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('parking_sensor_1',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "edc6ead4.deed68",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "17",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 960,
        "wires": [
            [
                "3be6e47.4ba4a1c"
            ]
        ]
    },
    {
        "id": "3be6e47.4ba4a1c",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Parking Sensor 17",
        "tooltip": "",
        "group": "2d56375.7b04bc8",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 960,
        "wires": [
            [
                "ce8c3e42.1b0f9"
            ]
        ]
    },
    {
        "id": "ce8c3e42.1b0f9",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('parking_sensor_2',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "ef1e6644.698368",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "18",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 1000,
        "wires": [
            [
                "5778a4ee.7e5f8c"
            ]
        ]
    },
    {
        "id": "5778a4ee.7e5f8c",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Parking Sensor 18",
        "tooltip": "",
        "group": "2d56375.7b04bc8",
        "order": 3,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 1000,
        "wires": [
            [
                "2b579527.36bfba"
            ]
        ]
    },
    {
        "id": "2b579527.36bfba",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('parking_sensor_3',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "c07f6f78.e041e",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "19",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 1040,
        "wires": [
            [
                "312c77b4.d8c418"
            ]
        ]
    },
    {
        "id": "312c77b4.d8c418",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Parking Sensor 19",
        "tooltip": "",
        "group": "2d56375.7b04bc8",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 1040,
        "wires": [
            [
                "e492ec2b.9e859"
            ]
        ]
    },
    {
        "id": "e492ec2b.9e859",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('parking_sensor_4',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "97114685.c85ea8",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 1080,
        "wires": [
            [
                "3ba29291.06611e"
            ]
        ]
    },
    {
        "id": "3ba29291.06611e",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Parking Screen 20",
        "tooltip": "",
        "group": "2d56375.7b04bc8",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 310,
        "y": 1080,
        "wires": [
            [
                "f13df6bb.2babf8"
            ]
        ]
    },
    {
        "id": "f13df6bb.2babf8",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('parking_screen',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "8e9cdc88.791ec",
        "type": "ui_switch",
        "z": "e311ef5.6cc341",
        "name": "",
        "label": "Off / On",
        "tooltip": "",
        "group": "797e5694.244448",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 200,
        "y": 200,
        "wires": [
            [
                "c535d775.644f88"
            ]
        ]
    },
    {
        "id": "c535d775.644f88",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Set global on/off",
        "func": "global.set('trafficlight_on_off',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 200,
        "wires": [
            [
                "9ccd8daf.2c79d"
            ]
        ]
    },
    {
        "id": "9ccd8daf.2c79d",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Check on/off",
        "func": "var trafficlightOnOff = global.get(\"trafficlight_on_off\");\n\nif(trafficlightOnOff === true)\n{\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 190,
        "y": 280,
        "wires": [
            [
                "2d8ee41d.78eddc"
            ]
        ]
    },
    {
        "id": "1fe5a68d.1bbb69",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (19 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "19",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 80,
        "wires": [
            [
                "9d94116.d87dff"
            ]
        ]
    },
    {
        "id": "9d94116.d87dff",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Parking space 1",
        "func": "var parking_lot=msg.payload;\n\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Parking_Lot\",\n    \"req\": {\n      \"nAdr\": 16,\n      \"pNum\": 35,               //0x23\n      \"pCmd\": 0,\n      \"hwpId\": 65535,           //0xFFFF\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"parking_sensor_1\"); //Sets the right node number\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 80,
        "wires": [
            [
                "6ab55ef9.a8af9"
            ]
        ]
    },
    {
        "id": "6ab55ef9.a8af9",
        "type": "link out",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 875,
        "y": 80,
        "wires": []
    },
    {
        "id": "49bb0c56.648914",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT",
        "info": "",
        "x": 930,
        "y": 40,
        "wires": []
    },
    {
        "id": "7075bca7.878974",
        "type": "link in",
        "z": "ec096751.dbe248",
        "name": "Parking Space response",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 95,
        "y": 140,
        "wires": [
            [
                "3082c413.684d6c"
            ]
        ]
    },
    {
        "id": "3082c413.684d6c",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct msgId",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Parking_Lot",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 260,
        "y": 140,
        "wires": [
            [
                "de97273c.e268c8"
            ]
        ]
    },
    {
        "id": "de97273c.e268c8",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct nAdr",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "parking_sensor_1",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 140,
        "wires": [
            [
                "6b23dd.fd046c24"
            ]
        ]
    },
    {
        "id": "6b23dd.fd046c24",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Check if space is occupied",
        "func": "var parking = msg.payload.data.rsp.pData[0];    //Gets the value from the sensor\n\nif (parking === 255) {                          //if the parking space is occupied\n    parking = 1;                                //Set the space as occupied\n    global.set(\"parking_space1\", parking);      //Set a global variable\n}\nelse {\n    parking = 0;                                //else set the space as unoccupied\n    global.set(\"parking_space1\", parking);      //set the global variable\n}\n\n\nmsg.payload = parking;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "f61ce051.cafab",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 280,
        "wires": [
            [
                "a1d9dbac.fb86e8"
            ]
        ]
    },
    {
        "id": "da343a58.acd168",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 540,
        "y": 400,
        "wires": [
            [
                "cb653332.7d6c3"
            ]
        ]
    },
    {
        "id": "67cec898.643aa8",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 635,
        "y": 360,
        "wires": []
    },
    {
        "id": "6b64f9ad.d14608",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 635,
        "y": 240,
        "wires": []
    },
    {
        "id": "17fda437.9728dc",
        "type": "switch",
        "z": "e311ef5.6cc341",
        "name": "North TL",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trafficlight_north_nAdr",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1760,
        "y": 80,
        "wires": [
            [
                "9190010c.06387"
            ]
        ]
    },
    {
        "id": "ef9b2526.14f2b8",
        "type": "switch",
        "z": "e311ef5.6cc341",
        "name": "East TL",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trafficlight_east_nAdr",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1760,
        "y": 160,
        "wires": [
            [
                "f1cc2d37.47da3"
            ]
        ]
    },
    {
        "id": "fbc0ca07.50ad68",
        "type": "switch",
        "z": "e311ef5.6cc341",
        "name": "West TL",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "trafficlight_west_nAdr",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1760,
        "y": 200,
        "wires": [
            [
                "f93a2532.d33808"
            ]
        ]
    },
    {
        "id": "9190010c.06387",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Global Set North",
        "func": "var pData = msg.payload.data.rsp.pData[0];\nvar walkNorth;\nvar walkWest;\n\nswitch (pData) {\n    case 0:\n        walkNorth   = global.set(\"walkNorth2East\", false);\n        walkWest    = global.set(\"walkNorth2West\", false);\n        break;\n        \n    case 1:\n        walkNorth   = global.set(\"walkNorth2East\", false);\n        walkWest    = global.set(\"walkNorth2West\", true);\n        break;\n    \n    case 16:\n        walkNorth   = global.set(\"walkNorth2East\", true);\n        walkWest    = global.set(\"walkNorth2West\", false);\n        break;\n        \n    case 17:\n        walkNorth   = global.set(\"walkNorth2East\", true);\n        walkWest    = global.set(\"walkNorth2West\", true);\n        break;\n}\n\nmsg.payload = pData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1940,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f1cc2d37.47da3",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Global Set East",
        "func": "var pData = msg.payload.data.rsp.pData[0];\nvar walkEast;\nvar walkNorth;\n\nswitch (pData) {\n    case 0:\n        walkEast    = global.set(\"walkEast2South\", false);\n        walkNorth   = global.set(\"walkEast2North\", false);\n        break;\n        \n    case 1:\n        walkEast    = global.set(\"walkEast2South\", false);\n        walkNorth   = global.set(\"walkEast2North\", true);\n        break;\n    \n    case 16:\n        walkEast    = global.set(\"walkEast2South\", true);\n        walkNorth   = global.set(\"walkEast2North\", false);\n        break;\n        \n    case 17:\n        walkEast    = global.set(\"walkEast2South\", true);\n        walkNorth   = global.set(\"walkEast2North\", true);\n        break;\n}\n\nmsg.payload = pData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1940,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f93a2532.d33808",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Global Set West",
        "func": "var pData = msg.payload.data.rsp.pData[0];\nvar walkWest;\nvar walkSouth;\n\nswitch (pData) {\n    case 0:\n        walkWest    = global.set(\"walkWest2North\", false);\n        walkSouth   = global.set(\"walkWest2South\", false);\n        break;\n        \n    case 1:\n        walkWest    = global.set(\"walkWest2North\", false);\n        walkSouth   = global.set(\"walkWest2South\", true);\n        break;\n    \n    case 16:\n        walkWest    = global.set(\"walkWest2North\", true);\n        walkSouth   = global.set(\"walkWest2South\", false);\n        break;\n        \n    case 17:\n        walkWest    = global.set(\"walkWest2North\", true);\n        walkSouth   = global.set(\"walkWest2South\", true);\n        break;\n}\n\nmsg.payload = pData;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1940,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "79d8f2e2.e4244c",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Parking Screen",
        "func": "var parking_screen = msg.payload;\n\nvar parking_space1 = global.get(\"parking_space1\");\nvar parking_space2 = global.get(\"parking_space2\");\nvar parking_space3 = global.get(\"parking_space3\");\nvar parking_space4 = global.get(\"parking_space4\");\n\nvar free_spaces = 4 - parking_space1 - parking_space2 - parking_space3 - parking_space4;\n\nglobal.set(\"free_spaces\", free_spaces);\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Parking_Screen\",\n    \"req\": {\n      \"nAdr\": 20,\n      \"pNum\": 36,               //0x24\n      \"pCmd\": 0,\n      \"hwpId\": 65535,           //0xFFFF\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\n\nmsg.payload.data.req.nAdr = global.get(\"parking_screen\"); //Sets the right node number\nmsg.payload.data.req.pData = [free_spaces]; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 720,
        "wires": [
            [
                "d20e522e.a0d5"
            ]
        ]
    },
    {
        "id": "5be321b6.a788f",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (19 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "19",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 240,
        "wires": [
            [
                "abb17913.69c518"
            ]
        ]
    },
    {
        "id": "abb17913.69c518",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Parking space 2",
        "func": "var parking_lot=msg.payload;\n\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Parking_Lot\",\n    \"req\": {\n      \"nAdr\": 17,\n      \"pNum\": 35,               //0x23\n      \"pCmd\": 0,\n      \"hwpId\": 65535,           //0xFFFF\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"parking_sensor_2\"); //Sets the right node number\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 240,
        "wires": [
            [
                "4daa2b7c.a26d84"
            ]
        ]
    },
    {
        "id": "4daa2b7c.a26d84",
        "type": "link out",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 875,
        "y": 240,
        "wires": []
    },
    {
        "id": "61e58910.9b6b68",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT",
        "info": "",
        "x": 930,
        "y": 200,
        "wires": []
    },
    {
        "id": "3edb7425.eaa55c",
        "type": "link in",
        "z": "ec096751.dbe248",
        "name": "Parking Space response",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 95,
        "y": 300,
        "wires": [
            [
                "ab13aac.151ee58"
            ]
        ]
    },
    {
        "id": "ab13aac.151ee58",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct msgId",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Parking_Lot",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 260,
        "y": 300,
        "wires": [
            [
                "cbc275ff.848008"
            ]
        ]
    },
    {
        "id": "cbc275ff.848008",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct nAdr",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "parking_sensor_2",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "3ff41ffd.ce6c2"
            ]
        ]
    },
    {
        "id": "3ff41ffd.ce6c2",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Check if space is occupied",
        "func": "var parking = msg.payload.data.rsp.pData[0];    //Gets the value from the sensor\n\nif (parking === 255) {                          //if the parking space is occupied\n    parking = 1;                                //Set the space as occupied\n    global.set(\"parking_space2\", parking);      //Set a global variable\n}\nelse {\n    parking = 0;                                //else set the space as unoccupied\n    global.set(\"parking_space2\", parking);      //set the global variable\n}\n\n\nmsg.payload = parking;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "67b5c727.9ff898",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (19 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "19",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 400,
        "wires": [
            [
                "b1a213d4.162c5"
            ]
        ]
    },
    {
        "id": "b1a213d4.162c5",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Parking space 3",
        "func": "var parking_lot=msg.payload;\n\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Parking_Lot\",\n    \"req\": {\n      \"nAdr\": 18,\n      \"pNum\": 35,               //0x23\n      \"pCmd\": 0,\n      \"hwpId\": 65535,           //0xFFFF\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"parking_sensor_3\"); //Sets the right node number\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 400,
        "wires": [
            [
                "6ccb3976.4c4208"
            ]
        ]
    },
    {
        "id": "6ccb3976.4c4208",
        "type": "link out",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 875,
        "y": 400,
        "wires": []
    },
    {
        "id": "b80f40cb.13fa4",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT",
        "info": "",
        "x": 930,
        "y": 360,
        "wires": []
    },
    {
        "id": "7cc4c550.84e87c",
        "type": "link in",
        "z": "ec096751.dbe248",
        "name": "Parking Space response",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 95,
        "y": 460,
        "wires": [
            [
                "500e952a.3ad6fc"
            ]
        ]
    },
    {
        "id": "500e952a.3ad6fc",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct msgId",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Parking_Lot",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 260,
        "y": 460,
        "wires": [
            [
                "5a07b2ee.41e20c"
            ]
        ]
    },
    {
        "id": "5a07b2ee.41e20c",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct nAdr",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "parking_sensor_3",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 460,
        "wires": [
            [
                "99bbe727.cbcff8"
            ]
        ]
    },
    {
        "id": "99bbe727.cbcff8",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Check if space is occupied",
        "func": "var parking = msg.payload.data.rsp.pData[0];    //Gets the value from the sensor\n\nif (parking === 255) {                          //if the parking space is occupied\n    parking = 1;                                //Set the space as occupied\n    global.set(\"parking_space3\", parking);      //Set a global variable\n}\nelse {\n    parking = 0;                                //else set the space as unoccupied\n    global.set(\"parking_space3\", parking);      //set the global variable\n}\n\n\nmsg.payload = parking;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "73f57561.1e8d2c",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (19 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "19",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 560,
        "wires": [
            [
                "dcf8526d.9071d"
            ]
        ]
    },
    {
        "id": "dcf8526d.9071d",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Parking space 4",
        "func": "var parking_lot=msg.payload;\n\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Parking_Lot\",\n    \"req\": {\n      \"nAdr\": 19,\n      \"pNum\": 35,               //0x23\n      \"pCmd\": 0,\n      \"hwpId\": 65535,           //0xFFFF\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"parking_sensor_4\"); //Sets the right node number\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 560,
        "wires": [
            [
                "795561ad.36ccc"
            ]
        ]
    },
    {
        "id": "795561ad.36ccc",
        "type": "link out",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 875,
        "y": 560,
        "wires": []
    },
    {
        "id": "1c062b74.3a8ec5",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT",
        "info": "",
        "x": 910,
        "y": 520,
        "wires": []
    },
    {
        "id": "74f8fa23.e20ba4",
        "type": "link in",
        "z": "ec096751.dbe248",
        "name": "Parking Space response",
        "links": [
            "c7e9d2ff.713af"
        ],
        "x": 95,
        "y": 620,
        "wires": [
            [
                "e7afecd.f9bcf1"
            ]
        ]
    },
    {
        "id": "e7afecd.f9bcf1",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct msgId",
        "property": "payload.data.msgId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Parking_Lot",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 260,
        "y": 620,
        "wires": [
            [
                "e8532e03.13533"
            ]
        ]
    },
    {
        "id": "e8532e03.13533",
        "type": "switch",
        "z": "ec096751.dbe248",
        "name": "Check correct nAdr",
        "property": "payload.data.rsp.nAdr",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "parking_sensor_4",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 620,
        "wires": [
            [
                "8c95063b.14e398"
            ]
        ]
    },
    {
        "id": "8c95063b.14e398",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Check if space is occupied",
        "func": "var parking = msg.payload.data.rsp.pData[0];    //Gets the value from the sensor\n\nif (parking === 255) {                          //if the parking space is occupied\n    parking = 1;                                //Set the space as occupied\n    global.set(\"parking_space4\", parking);      //Set a global variable\n}\nelse {\n    parking = 0;                                //else set the space as unoccupied\n    global.set(\"parking_space4\", parking);      //set the global variable\n}\n\n\nmsg.payload = parking;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "84e6cbc0.bcbca8",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Parking Space 1 (N16)",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "f4b3c5f9.8b6468",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Parking Space 2 (N17)",
        "info": "",
        "x": 180,
        "y": 200,
        "wires": []
    },
    {
        "id": "27fad8b0.37e228",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Parking Space 3 (N18)",
        "info": "",
        "x": 180,
        "y": 360,
        "wires": []
    },
    {
        "id": "1a5af393.0cb3dc",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Parking Space 4 (N19)",
        "info": "",
        "x": 180,
        "y": 520,
        "wires": []
    },
    {
        "id": "7ba1b88c.877908",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (28 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "28",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 720,
        "wires": [
            [
                "79d8f2e2.e4244c"
            ]
        ]
    },
    {
        "id": "be96f9bf.1c6d88",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Update the screen",
        "info": "",
        "x": 170,
        "y": 680,
        "wires": []
    },
    {
        "id": "d20e522e.a0d5",
        "type": "link out",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT (UI)",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 875,
        "y": 720,
        "wires": []
    },
    {
        "id": "43471e60.7bc04",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Data to MQTT",
        "info": "",
        "x": 910,
        "y": 680,
        "wires": []
    },
    {
        "id": "aa176477.12a9f8",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 11 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [3]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_north_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 520,
        "wires": [
            [
                "5cb612f9.bbea4c",
                "fbef98db.f89ea8"
            ]
        ]
    },
    {
        "id": "9aeabc2.f39c24",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 12 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [3]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_south_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 560,
        "wires": [
            [
                "da6a10bb.a3a5c",
                "fbef98db.f89ea8"
            ]
        ]
    },
    {
        "id": "fb5914b1.c5bc98",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 13 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [3]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_east_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 600,
        "wires": [
            [
                "b5e15266.c445a",
                "fbef98db.f89ea8"
            ]
        ]
    },
    {
        "id": "db634653.4d9d78",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 14 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [3]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_west_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 640,
        "wires": [
            [
                "23f4c699.db728a",
                "fbef98db.f89ea8"
            ]
        ]
    },
    {
        "id": "5cb612f9.bbea4c",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 520,
        "wires": [
            [
                "9aeabc2.f39c24"
            ]
        ]
    },
    {
        "id": "da6a10bb.a3a5c",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 560,
        "wires": [
            [
                "fb5914b1.c5bc98"
            ]
        ]
    },
    {
        "id": "b5e15266.c445a",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 600,
        "wires": [
            [
                "db634653.4d9d78"
            ]
        ]
    },
    {
        "id": "23f4c699.db728a",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 640,
        "wires": [
            [
                "12761ddd.4c3312"
            ]
        ]
    },
    {
        "id": "fbef98db.f89ea8",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 1115,
        "y": 580,
        "wires": []
    },
    {
        "id": "259b69fb.db1ba6",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 495,
        "y": 760,
        "wires": []
    },
    {
        "id": "65926b78.685854",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 495,
        "y": 880,
        "wires": []
    },
    {
        "id": "ef44a55e.abcae8",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 11 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [6]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_north_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 960,
        "wires": [
            [
                "f688ca07.5e0118",
                "de4bdba6.04dcf8"
            ]
        ]
    },
    {
        "id": "e49f30a.30a6ed",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 12 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [6]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_south_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 1000,
        "wires": [
            [
                "1cbe085a.b83d68",
                "de4bdba6.04dcf8"
            ]
        ]
    },
    {
        "id": "33fe53a6.b2ec8c",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 13 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [6]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_east_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 1040,
        "wires": [
            [
                "35f69fc0.4a5b5",
                "de4bdba6.04dcf8"
            ]
        ]
    },
    {
        "id": "c6dca7f7.0f5668",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Node 14 Check Button",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [6]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_west_nAdr\");\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 1080,
        "wires": [
            [
                "394cd620.cf5dfa",
                "de4bdba6.04dcf8"
            ]
        ]
    },
    {
        "id": "f688ca07.5e0118",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 960,
        "wires": [
            [
                "e49f30a.30a6ed"
            ]
        ]
    },
    {
        "id": "1cbe085a.b83d68",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 1000,
        "wires": [
            [
                "33fe53a6.b2ec8c"
            ]
        ]
    },
    {
        "id": "35f69fc0.4a5b5",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 1040,
        "wires": [
            [
                "c6dca7f7.0f5668"
            ]
        ]
    },
    {
        "id": "394cd620.cf5dfa",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 1080,
        "wires": [
            [
                "9ccd8daf.2c79d"
            ]
        ]
    },
    {
        "id": "de4bdba6.04dcf8",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 1115,
        "y": 1020,
        "wires": []
    },
    {
        "id": "674ec28f.33337c",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Case 9",
        "func": "var loops = global.get(\"loops\");\n\nmsg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": []\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.pData = [9, loops];\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 360,
        "y": 1240,
        "wires": [
            [
                "60d32bc4.4dbee4",
                "de9598b0.398c18"
            ]
        ]
    },
    {
        "id": "e64ae0fe.b202d",
        "type": "ui_numeric",
        "z": "e311ef5.6cc341",
        "name": "",
        "label": "Loops",
        "tooltip": "",
        "group": "d87d6787.d57888",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": true,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": "1",
        "max": "20",
        "step": 1,
        "x": 210,
        "y": 1180,
        "wires": [
            [
                "48fe0d2a.4bcbe4"
            ]
        ]
    },
    {
        "id": "60d32bc4.4dbee4",
        "type": "debug",
        "z": "e311ef5.6cc341",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 510,
        "y": 1320,
        "wires": []
    },
    {
        "id": "de9598b0.398c18",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 535,
        "y": 1240,
        "wires": []
    },
    {
        "id": "2a19f7a.cc44908",
        "type": "ui_button",
        "z": "e311ef5.6cc341",
        "name": "",
        "group": "d87d6787.d57888",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Run",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 210,
        "y": 1240,
        "wires": [
            [
                "674ec28f.33337c"
            ]
        ]
    },
    {
        "id": "48fe0d2a.4bcbe4",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Set global loops",
        "func": "global.set(\"loops\", msg.payload);",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "6be07a44.13b9d4",
        "type": "ui_gauge",
        "z": "4be04b4d.314884",
        "name": "",
        "group": "a2341206.ccb3",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "donut",
        "title": "",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 930,
        "y": 2100,
        "wires": []
    },
    {
        "id": "f6b07fab.65822",
        "type": "ui_button",
        "z": "e311ef5.6cc341",
        "name": "",
        "group": "3c22e70e.171988",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Run",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 210,
        "y": 120,
        "wires": [
            [
                "c252415f.20c22",
                "1dbf124b.02ac9e",
                "5f0705c3.cff17c"
            ]
        ]
    },
    {
        "id": "512f4f99.acda7",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Set global case",
        "func": "global.set(\"tl_case\", msg.payload);",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "79ab2dbc.eef174",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (10 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 840,
        "wires": [
            [
                "8f7f4750.66e318"
            ]
        ]
    },
    {
        "id": "8f7f4750.66e318",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "Free spaces UI",
        "func": "var free_spaces = global.get(\"free_spaces\");    //Gets free spaces variable\n\nmsg.payload = free_spaces;                      //Sends out free spaces\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 840,
        "wires": [
            [
                "a7b128a3.22c108"
            ]
        ]
    },
    {
        "id": "a7b128a3.22c108",
        "type": "ui_text",
        "z": "ec096751.dbe248",
        "group": "f36658ba.4bd0f8",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Free Parking Spaces:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 780,
        "y": 840,
        "wires": []
    },
    {
        "id": "197c3e64.4b0f42",
        "type": "comment",
        "z": "ec096751.dbe248",
        "name": "Free parking spaces on UI",
        "info": "",
        "x": 190,
        "y": 800,
        "wires": []
    },
    {
        "id": "cef01ae0.abb668",
        "type": "ui_template",
        "z": "ec096751.dbe248",
        "group": "160c3f9b.7620c",
        "name": "Red Parking Space 1",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"background-color:{{((msg.payload || 0) % 2 === 0) ? 'green' : 'red'}}; height:100px;\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 780,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "52a8470a.f568a8",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "If occupied",
        "func": "parking_space1 = global.get(\"parking_space1\");\n\nmsg.payload = parking_space1;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 900,
        "wires": [
            [
                "cef01ae0.abb668"
            ]
        ]
    },
    {
        "id": "c96cf4aa.a061f8",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (10 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 900,
        "wires": [
            [
                "52a8470a.f568a8"
            ]
        ]
    },
    {
        "id": "6bc153e0.9f99cc",
        "type": "ui_template",
        "z": "ec096751.dbe248",
        "group": "a3d6f430.393058",
        "name": "Red Parking Space 2",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"background-color:{{((msg.payload || 0) % 2 === 0) ? 'green' : 'red'}}; height:100px;\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 780,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "26dad709.c76738",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "If occupied",
        "func": "parking_space1 = global.get(\"parking_space2\");\n\nmsg.payload = parking_space1;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 960,
        "wires": [
            [
                "6bc153e0.9f99cc"
            ]
        ]
    },
    {
        "id": "d4c3ef33.dbd6c",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (10 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 960,
        "wires": [
            [
                "26dad709.c76738"
            ]
        ]
    },
    {
        "id": "f14b9006.b4567",
        "type": "ui_template",
        "z": "ec096751.dbe248",
        "group": "c6e446e6.b6cad8",
        "name": "Red Parking Space 3",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"background-color:{{((msg.payload || 0) % 2 === 0) ? 'green' : 'red'}}; height:100px;\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 780,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "40d170cb.71689",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "If occupied",
        "func": "parking_space1 = global.get(\"parking_space3\");\n\nmsg.payload = parking_space1;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 1020,
        "wires": [
            [
                "f14b9006.b4567"
            ]
        ]
    },
    {
        "id": "9ba3de54.d728a",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (10 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1020,
        "wires": [
            [
                "40d170cb.71689"
            ]
        ]
    },
    {
        "id": "36c603dc.32bbac",
        "type": "ui_template",
        "z": "ec096751.dbe248",
        "group": "ec3c4d8.d3c59b",
        "name": "Red Parking Space 4",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"background-color:{{((msg.payload || 0) % 2 === 0) ? 'green' : 'red'}}; height:100px;\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 780,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "4a98a1d0.afbd5",
        "type": "function",
        "z": "ec096751.dbe248",
        "name": "If occupied",
        "func": "parking_space1 = global.get(\"parking_space4\");\n\nmsg.payload = parking_space1;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 1080,
        "wires": [
            [
                "36c603dc.32bbac"
            ]
        ]
    },
    {
        "id": "49bb686c.822d18",
        "type": "inject",
        "z": "ec096751.dbe248",
        "name": "Repeat interval (10 s)",
        "topic": "Repeat interval",
        "payload": "",
        "payloadType": "date",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1080,
        "wires": [
            [
                "4a98a1d0.afbd5"
            ]
        ]
    },
    {
        "id": "3fbef279.fab5be",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Live Stats North",
        "func": "var walkNorth2East = global.get(\"walkNorth2East\");\nvar walkNorth2West = global.get(\"walkNorth2West\");\n\nif(walkNorth2East && !walkNorth2West)\n{\n    msg.payload = \"Someone wants to go to East.\"\n}\nelse if(!walkNorth2East && walkNorth2West)\n{\n    msg.payload = \"Someone wants to go to West.\"\n}\nelse if(walkNorth2East && walkNorth2West)\n{\n    msg.payload = \"Someone wants to go to both East and West.\"\n}\nelse\n{\n    msg.payload = \"Nobody wants to cross the road.\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1780,
        "y": 300,
        "wires": [
            [
                "29bc36c0.49730a"
            ]
        ]
    },
    {
        "id": "29bc36c0.49730a",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "60a4aca1.5a4724",
        "name": "North",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div style=\"min-height:50px;\">\n    <p>\n        {{msg.payload}}\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1970,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "cc7d57b5.32b398",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Live Stats South",
        "func": "var walkSouth2West = global.get(\"walkSouth2West\");\nvar walkSouth2East = global.get(\"walkSouth2East\");\n\nif(walkSouth2West && !walkSouth2East)\n{\n    msg.payload = \"Someone wants to go to West.\"\n}\nelse if(!walkSouth2West && walkSouth2East)\n{\n    msg.payload = \"Someone wants to go to East.\"\n}\nelse if(walkSouth2West && walkSouth2East)\n{\n    msg.payload = \"Someone wants to go to both West and East.\"\n}\nelse\n{\n    msg.payload = \"Nobody wants to cross the road.\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1780,
        "y": 340,
        "wires": [
            [
                "9d56c0f1.924f9"
            ]
        ]
    },
    {
        "id": "9d56c0f1.924f9",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "f6f28350.e1181",
        "name": "South",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div style=\"min-height:40px;\">\n    <p>\n        {{msg.payload}}\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1970,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "e68a516f.5d52e",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Live Stats East",
        "func": "var walkEast2North = global.get(\"walkEast2North\");\nvar walkEast2South = global.get(\"walkEast2South\");\n\nif(walkEast2North && !walkEast2South)\n{\n    msg.payload = \"Someone wants to go to North.\"\n}\nelse if(!walkEast2North && walkEast2South)\n{\n    msg.payload = \"Someone wants to go to South.\"\n}\nelse if(walkEast2North && walkEast2South)\n{\n    msg.payload = \"Someone wants to go to both North and South.\"\n}\nelse\n{\n    msg.payload = \"Nobody wants to cross the road.\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1780,
        "y": 380,
        "wires": [
            [
                "a26b89b3.cbe068"
            ]
        ]
    },
    {
        "id": "a26b89b3.cbe068",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "5c32fd95.6cffe4",
        "name": "East",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div style=\"min-height:40px;\">\n    <p>\n        {{msg.payload}}\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1970,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a5c321c2.9ff36",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "Live Stats West",
        "func": "var walkWest2South = global.get(\"walkWest2South\");\nvar walkWest2North = global.get(\"walkWest2North\");\n\nif(walkWest2South && !walkWest2North)\n{\n    msg.payload = \"Someone wants to go to South.\"\n}\nelse if(!walkWest2South && walkWest2North)\n{\n    msg.payload = \"Someone wants to go to North.\"\n}\nelse if(walkWest2South && walkWest2North)\n{\n    msg.payload = \"Someone wants to go to both South and North.\"\n}\nelse\n{\n    msg.payload = \"Nobody wants to cross the road.\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1780,
        "y": 420,
        "wires": [
            [
                "229520c.01c9ae"
            ]
        ]
    },
    {
        "id": "229520c.01c9ae",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "d78844fa.b95648",
        "name": "West",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div style=\"min-height:40px;\">\n    <p>\n        {{msg.payload}}\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1970,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "7c59b6e0.37fb18",
        "type": "inject",
        "z": "e311ef5.6cc341",
        "name": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1590,
        "y": 360,
        "wires": [
            [
                "3fbef279.fab5be",
                "cc7d57b5.32b398",
                "e68a516f.5d52e",
                "a5c321c2.9ff36"
            ]
        ]
    },
    {
        "id": "78bfd5b2.199a8c",
        "type": "ui_button",
        "z": "e311ef5.6cc341",
        "name": "",
        "group": "3e3a05ec.fd8d8a",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Check crossovers",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 1630,
        "y": 580,
        "wires": [
            [
                "58f4946f.635fbc"
            ]
        ]
    },
    {
        "id": "17155c28.cf64e4",
        "type": "ui_button",
        "z": "e311ef5.6cc341",
        "name": "",
        "group": "3e3a05ec.fd8d8a",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset crossovers",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 1630,
        "y": 700,
        "wires": [
            [
                "5dfb41f7.8c244"
            ]
        ]
    },
    {
        "id": "58f4946f.635fbc",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "North",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_north_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1810,
        "y": 580,
        "wires": [
            [
                "aa9f41cb.52bd8",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "aa9f41cb.52bd8",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1960,
        "y": 580,
        "wires": [
            [
                "f3d36e03.7db2"
            ]
        ]
    },
    {
        "id": "f3d36e03.7db2",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "South",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_south_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2110,
        "y": 580,
        "wires": [
            [
                "1164d691.4046a9",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "1164d691.4046a9",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2260,
        "y": 580,
        "wires": [
            [
                "bcfee7dd.1d5fb8"
            ]
        ]
    },
    {
        "id": "43f73743.3e05d8",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2560,
        "y": 580,
        "wires": [
            [
                "42ea2f7c.84166"
            ]
        ]
    },
    {
        "id": "bcfee7dd.1d5fb8",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "East",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_east_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2410,
        "y": 580,
        "wires": [
            [
                "43f73743.3e05d8",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "42ea2f7c.84166",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "West",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_west_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2710,
        "y": 580,
        "wires": [
            [
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "e4643234.fca6e",
        "type": "link out",
        "z": "e311ef5.6cc341",
        "name": "",
        "links": [
            "fd899ca7.326dd"
        ],
        "x": 2835,
        "y": 640,
        "wires": []
    },
    {
        "id": "5dfb41f7.8c244",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "North",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255, 255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_north_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1810,
        "y": 700,
        "wires": [
            [
                "50be0bd2.f18b84",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "50be0bd2.f18b84",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1960,
        "y": 700,
        "wires": [
            [
                "3aeb0270.21b2ee"
            ]
        ]
    },
    {
        "id": "3aeb0270.21b2ee",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "South",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255, 255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_south_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2110,
        "y": 700,
        "wires": [
            [
                "3d9850b0.5d401",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "3d9850b0.5d401",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2260,
        "y": 700,
        "wires": [
            [
                "14d2c277.5a6f3e"
            ]
        ]
    },
    {
        "id": "127d242b.0a6d8c",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 2560,
        "y": 700,
        "wires": [
            [
                "5cc9eab5.6f5584"
            ]
        ]
    },
    {
        "id": "14d2c277.5a6f3e",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "East",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255, 255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_east_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2410,
        "y": 700,
        "wires": [
            [
                "127d242b.0a6d8c",
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "5cc9eab5.6f5584",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "West",
        "func": "msg.payload={\n  \"mType\": \"iqrfRawHdp\",\n  \"data\": {\n    \"msgId\": \"Trafficlight\",\n    \"req\": {\n      \"nAdr\": 255,\n      \"pNum\": 33,\n      \"pCmd\": 0,\n      \"hwpId\": 65535,\n      \"pData\": [255, 255]\n    },\n    \"returnVerbose\": true\n  }\n};\n\nmsg.payload.data.req.nAdr=global.get(\"trafficlight_west_nAdr\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2710,
        "y": 700,
        "wires": [
            [
                "e4643234.fca6e"
            ]
        ]
    },
    {
        "id": "d26a2935.0fe1a8",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "",
        "name": "Head css style",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n#tl {\n    width: 120px;\n    border: 1px solid black;\n    overflow: hidden;\n    background-color: black;\n    padding: 10px;\n}\n\n#tl_small {\n    width: 60px;\n    border: 1px solid black;\n    overflow: hidden;\n    background-color: black;\n    padding: 10px;\n}\n\n#redLight {\n    border-radius: 25px;\n    background-color: red;\n    margin: 10px;\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n}\n\n#redLightBorder {\n    border-radius: 23px;\n    border: 2px solid red;\n    margin: 10px;\n    width: 46px;\n    height: 46px;\n    overflow: hidden;\n}\n\n#yellowLight {\n    border-radius: 25px;\n    background-color: yellow;\n    margin: 10px;\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n}\n\n#yellowLightBorder {\n    border-radius: 23px;\n    border: 2px solid yellow;\n    margin: 10px;\n    width: 46px;\n    height: 46px;\n    overflow: hidden;\n}\n\n#greenLight {\n    border-radius: 25px;\n    background-color: green;\n    margin: 10px;\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n}\n\n#greenLightBorder {\n    border-radius: 23px;\n    border: 2px solid green;\n    margin: 10px;\n    width: 46px;\n    height: 46px;\n    overflow: hidden;\n}\n\n#redLightLeft {\n    border: solid red;\n    border-width: 0 11px 11px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 26px;\n    width: 26px;\n    float: left;\n}\n\n#redLightLeftBorder {\n    border: solid red;\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 34px;\n    width: 34px;\n    float: left;\n}\n\n#yellowLightLeft {\n    border: solid yellow;\n    border-width: 0 11px 11px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 26px;\n    width: 26px;\n    float: left;\n}\n\n#yellowLightLeftBorder {\n    border: solid yellow;\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 34px;\n    width: 34px;\n    float: left;\n}\n\n#greenLightLeft {\n    border: solid green;\n    border-width: 0 11px 11px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 26px;\n    width: 26px;\n    float: left;\n}\n\n#greenLightLeftBorder {\n    border: solid green;\n    border-width: 0 2px 2px 0;\n    display: inline-block;\n    padding: 0px;\n    margin: 10px;\n    transform: rotate(135deg);\n    -webkit-transform: rotate(135deg);\n    height: 34px;\n    width: 34px;\n    float: left;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "global",
        "x": 780,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "eac512c8.e2674",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "f6f28350.e1181",
        "name": "South TL",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"tl\">\n    <div id=\"redLightLeftBorder\"></div>\n    <div id=\"redLightBorder\"></div>\n    <div id=\"yellowLightLeftBorder\"></div>\n    <div id=\"yellowLightBorder\"></div>\n    <div id=\"greenLightLeftBorder\"></div>\n    <div id=\"greenLightBorder\"></div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1240,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "1dbf124b.02ac9e",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "North & South Template func.",
        "func": "var tl_case = global.get(\"tl_case\");\n\nswitch(tl_case)\n{\n    case 0:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeftBorder\"></div><div id=\"redLightBorder\"></div><div id=\"yellowLightLeftBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 1:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeftBorder\"></div><div id=\"redLightBorder\"></div><div id=\"yellowLightLeftBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightLeft\"></div><div id=\"greenLight\"></div></div>';\n        break;\n        \n    case 2:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeftBorder\"></div><div id=\"redLightBorder\"></div><div id=\"yellowLightLeft\"></div><div id=\"yellowLight\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 3:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeft\"></div><div id=\"redLight\"></div><div id=\"yellowLightLeftBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 4:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeft\"></div><div id=\"redLight\"></div><div id=\"yellowLightLeftBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 5:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeft\"></div><div id=\"redLight\"></div><div id=\"yellowLightLeftBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 6:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeft\"></div><div id=\"redLight\"></div><div id=\"yellowLightLeft\"></div><div id=\"yellowLight\"></div><div id=\"greenLightLeftBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 10:\n        msg.template = '<div id=\"tl\"><div id=\"redLightLeft\"></div><div id=\"redLight\"></div><div id=\"yellowLightLeft\"></div><div id=\"yellowLight\"></div><div id=\"greenLightLeft\"></div><div id=\"greenLight\"></div></div>';\n        break;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1020,
        "y": 280,
        "wires": [
            [
                "a32f34a9.076fe8",
                "eac512c8.e2674"
            ]
        ]
    },
    {
        "id": "a32f34a9.076fe8",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "60a4aca1.5a4724",
        "name": "North TL",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"tl\">\n    <div id=\"redLightLeftBorder\"></div>\n    <div id=\"redLightBorder\"></div>\n    <div id=\"yellowLightLeftBorder\"></div>\n    <div id=\"yellowLightBorder\"></div>\n    <div id=\"greenLightLeftBorder\"></div>\n    <div id=\"greenLightBorder\"></div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1240,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5f0705c3.cff17c",
        "type": "function",
        "z": "e311ef5.6cc341",
        "name": "East & West Template func.",
        "func": "var tl_case = global.get(\"tl_case\");\n\nswitch(tl_case)\n{\n    case 0:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLightBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 1:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLight\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 2:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLight\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 3:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLight\"></div><div id=\"yellowLight\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 4:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLightBorder\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLight\"></div></div>';\n        break;\n        \n    case 5:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLightBorder\"></div><div id=\"yellowLight\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 6:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLight\"></div><div id=\"yellowLightBorder\"></div><div id=\"greenLightBorder\"></div></div>';\n        break;\n        \n    case 10:\n        msg.template = '<div id=\"tl_small\"><div id=\"redLight\"></div><div id=\"yellowLight\"></div><div id=\"greenLight\"></div></div>';\n        break;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1020,
        "y": 320,
        "wires": [
            [
                "f0ca8619.d4c858",
                "504b71ff.bd008"
            ]
        ]
    },
    {
        "id": "f0ca8619.d4c858",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "5c32fd95.6cffe4",
        "name": "East TL",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"tl_small\">\n    <div id=\"redLightBorder\"></div>\n    <div id=\"yellowLightBorder\"></div>\n    <div id=\"greenLightBorder\"></div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1240,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "504b71ff.bd008",
        "type": "ui_template",
        "z": "e311ef5.6cc341",
        "group": "d78844fa.b95648",
        "name": "West TL",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"tl\">\n    <div id=\"redLightBorder\"></div>\n    <div id=\"yellowLightBorder\"></div>\n    <div id=\"greenLightBorder\"></div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1240,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "60028981.a659d8",
        "type": "delay",
        "z": "e311ef5.6cc341",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 780,
        "y": 300,
        "wires": [
            [
                "1dbf124b.02ac9e",
                "5f0705c3.cff17c"
            ]
        ]
    },
    {
        "id": "304e6a00.dec616",
        "type": "comment",
        "z": "d232bc5f.afdd4",
        "name": "Door",
        "info": "",
        "x": 90,
        "y": 1140,
        "wires": []
    },
    {
        "id": "72eec845.d11908",
        "type": "inject",
        "z": "d232bc5f.afdd4",
        "name": "",
        "topic": "",
        "payload": "21",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 1180,
        "wires": [
            [
                "a26f11c1.fcb68"
            ]
        ]
    },
    {
        "id": "a26f11c1.fcb68",
        "type": "ui_numeric",
        "z": "d232bc5f.afdd4",
        "name": "",
        "label": "Door 21",
        "tooltip": "",
        "group": "e6b7bb17.01b428",
        "order": 1,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "x": 280,
        "y": 1180,
        "wires": [
            [
                "3adcf9d5.7fb376"
            ]
        ]
    },
    {
        "id": "3adcf9d5.7fb376",
        "type": "function",
        "z": "d232bc5f.afdd4",
        "name": "",
        "func": "global.set('door_node',msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 550,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "14cb7119.dcdf3f",
        "type": "ui_button",
        "z": "2618dd02.6e7552",
        "name": "",
        "group": "65e0c5af.0f5fdc",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Open",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 410,
        "y": 120,
        "wires": [
            [
                "d7d68269.df7a5",
                "f74ddd97.544de"
            ]
        ]
    },
    {
        "id": "394a9c2f.80bd34",
        "type": "ui_button",
        "z": "2618dd02.6e7552",
        "name": "",
        "group": "65e0c5af.0f5fdc",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Lock",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 410,
        "y": 160,
        "wires": [
            [
                "f74ddd97.544de"
            ]
        ]
    },
    {
        "id": "47cdfc01.c9b064",
        "type": "comment",
        "z": "e311ef5.6cc341",
        "name": "Add trafficlight CSS objects to <head>",
        "info": "",
        "x": 850,
        "y": 80,
        "wires": []
    },
    {
        "id": "42077152.58f44",
        "type": "ui_text_input",
        "z": "2618dd02.6e7552",
        "name": "",
        "label": "Passcode",
        "tooltip": "Hint: passcode is 920 + 314",
        "group": "65e0c5af.0f5fdc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "tel",
        "delay": "100",
        "topic": "",
        "x": 80,
        "y": 120,
        "wires": [
            [
                "95c1483a.1c5168"
            ]
        ]
    },
    {
        "id": "95c1483a.1c5168",
        "type": "function",
        "z": "2618dd02.6e7552",
        "name": "Disable open",
        "func": "// Changing the passcode is done in the variable below\nvar passcode = 1234;\n\nvar input = msg.payload;\nvar doorLocked = global.get(\"doorLocked\");\n\nif(doorLocked === true)\n{\n    if(input == passcode)\n    {\n        msg.enabled = true;\n    }\n    else\n    {\n        msg.enabled = false;\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 250,
        "y": 120,
        "wires": [
            [
                "14cb7119.dcdf3f"
            ]
        ]
    },
    {
        "id": "2c3c5c08.52ab44",
        "type": "ui_text",
        "z": "2618dd02.6e7552",
        "group": "65e0c5af.0f5fdc",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Door is",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 900,
        "y": 160,
        "wires": []
    },
    {
        "id": "828569d5.605c68",
        "type": "function",
        "z": "2618dd02.6e7552",
        "name": "checkLock",
        "func": "var state = msg.payload;\n\nif(state === 0)\n{\n    msg.payload = \"locked\";\n}\nelse\n{\n    msg.payload = \"open\";\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 160,
        "wires": [
            [
                "2c3c5c08.52ab44"
            ]
        ]
    },
    {
        "id": "f74ddd97.544de",
        "type": "function",
        "z": "2618dd02.6e7552",
        "name": "Enabled?",
        "func": "var lock = msg.payload;\nvar doorLocked = global.get(\"doorLocked\");\n\nif(doorLocked === false)\n{\n    msg.enabled = false;\n}\nelse if(lock === 1)\n{\n    msg.enabled = true;\n}\nelse\n{\n    msg.payload = lock;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 560,
        "y": 160,
        "wires": [
            [
                "11db4ae4.7b4395",
                "828569d5.605c68",
                "7b26fe80.00b31"
            ]
        ]
    },
    {
        "id": "d7d68269.df7a5",
        "type": "function",
        "z": "2618dd02.6e7552",
        "name": "Enabled?",
        "func": "var lock = msg.payload;\nvar doorLocked = global.get(\"doorLocked\");\n\nif(doorLocked === true)\n{\n    msg.enabled = false;\n}\nelse\n{\n    msg.payload = lock;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 560,
        "y": 120,
        "wires": [
            [
                "11db4ae4.7b4395",
                "828569d5.605c68",
                "14cb7119.dcdf3f"
            ]
        ]
    },
    {
        "id": "754efc5e.2c38c4",
        "type": "comment",
        "z": "2618dd02.6e7552",
        "name": "Passcode is set here",
        "info": "",
        "x": 270,
        "y": 80,
        "wires": []
    },
    {
        "id": "7b26fe80.00b31",
        "type": "delay",
        "z": "2618dd02.6e7552",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 480,
        "y": 200,
        "wires": [
            [
                "394a9c2f.80bd34"
            ]
        ]
    }
]